<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Interactive Quizzes</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        body {
            font-family: 'Inter', sans-serif;
        }
        /* Custom scrollbar for the sidebar */
        .custom-scrollbar::-webkit-scrollbar {
            width: 8px;
        }
        .custom-scrollbar::-webkit-scrollbar-track {
            background: #1f2937;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb {
            background-color: #4b5563;
            border-radius: 4px;
        }
        .custom-scrollbar::-webkit-scrollbar-thumb:hover {
            background-color: #6b7280;
        }
        /* Style for the collapsible summary elements */
        summary {
            cursor: pointer;
            list-style: none; /* Hide default arrow */
        }
        summary::before {
            content: '▶';
            margin-right: 0.5rem;
            display: inline-block;
            transition: transform 0.2s ease;
        }
        details[open] summary::before {
            transform: rotate(90deg);
        }
        .highlight {
            background-color: yellow;
            color: black;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900 text-gray-900 dark:text-gray-100 min-h-screen flex flex-col md:flex-row overflow-hidden">

    <aside class="bg-gray-800 text-white w-full md:w-64 p-6 flex flex-col space-y-4 shadow-xl overflow-y-auto custom-scrollbar">
        <h1 class="text-3xl font-bold text-center border-b border-gray-700 pb-4 mb-4">RE Quiz</h1>
        
        <div class="mb-4">
            <input type="text" id="search-input" placeholder="Search questions or answers..." class="w-full p-2 rounded-md bg-gray-700 text-white placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500">
        </div>

        <div id="quiz-list-container" class="space-y-2 mt-4">
            <details class="group cursor-pointer" open>
                <summary class="text-xl font-semibold flex items-center p-2 rounded-lg hover:bg-gray-700 transition duration-200">
                    Module 1
                </summary>
                <div class="pl-6 pt-2 space-y-1">
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Unit 1">Unit 1</button>
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Unit 2">Unit 2</button>
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Unit 3">Unit 3</button>
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Unit 4">Unit 4</button>
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Unit 5">Unit 5</button>
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Unit 6">Unit 6</button>
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Unit 7">Unit 7</button>
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Unit 8">Unit 8</button>
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Unit 9">Unit 9</button>
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Unit 10">Unit 10</button>
                </div>
            </details>
            <details class="group cursor-pointer">
                <summary class="text-xl font-semibold flex items-center p-2 rounded-lg hover:bg-gray-700 transition duration-200">
                    Module 2
                </summary>
                <div class="pl-6 pt-2 space-y-1">
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Animal">Animal Kingdom</button>
                    <button class="quiz-btn w-full text-left p-2 rounded-md hover:bg-gray-600 transition duration-200" data-quiz="Space Quiz">Space Quiz</button>
                </div>
            </details>
        </div>
    </aside>

    <main class="flex-1 p-8 overflow-y-auto">
        <div class="bg-white dark:bg-gray-800 p-8 rounded-xl shadow-lg w-full max-w-3xl mx-auto">
            <h2 id="quiz-title" class="text-4xl font-extrabold text-center text-gray-800 dark:text-gray-200 mb-6">Select a Quiz</h2>
            
            <div id="progress-container" class="mb-8 p-4 bg-gray-100 dark:bg-gray-700 rounded-lg shadow-inner hidden">
                <div class="flex justify-between items-center text-lg font-bold mb-2">
                    <span id="correct-count" class="text-green-600">Correct: 0</span>
                    <span id="incorrect-count" class="text-red-600">Incorrect: 0</span>
                </div>
                <div class="w-full bg-gray-300 dark:bg-gray-600 rounded-full h-4 relative overflow-hidden">
                    <div id="correct-bar" class="absolute h-full bg-green-500 rounded-full transition-all duration-300 ease-out" style="width: 0%;"></div>
                    <div id="incorrect-bar" class="absolute h-full bg-red-500 rounded-full transition-all duration-300 ease-out" style="width: 0%;"></div>
                </div>
            </div>

            <div id="quiz-content">
                <p class="text-center text-gray-600 dark:text-gray-400">
                    Click on a quiz from the left-hand navigation to get started!
                </p>
            </div>

            <div id="quiz-navigation" class="mt-8 flex justify-end space-x-4 hidden">
                <button id="next-question-btn" class="px-6 py-3 bg-blue-600 text-white font-bold rounded-lg shadow-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition duration-200">Next Question</button>
            </div>
        </div>
    </main>

    <script>
        // Quiz data as a JSON object
        const quizData = {
            "Unit 1": [
                {
                    "question": "Which of these is considered to be an encumbrance?",
                    "answers": [
                        { "text": "A mortgage", "correct": false },
                        { "text": "A lease", "correct": false },
                        { "text": "An easement", "correct": false },
                        { "text": "All of these", "correct": true }
                    ],
                    "explanation": "A lease, mortgage, easement, or restriction is considered an encumbrance of a fee simple title."
                },
                {
                    "question": "Which of the following courses of action would the Federal Reserve Board take during an elongated period of \"tight money?\"",
                    "answers": [
                        { "text": "Purchasing large blocks of government bonds", "correct": false },
                        { "text": "Lower the reserve requirements of bank members", "correct": false },
                        { "text": "Decrease the discount rate for bank members", "correct": false },
                        { "text": "Any of the following", "correct": true }
                    ],
                    "explanation": "Answers (a), (b), (c), and (d) are all courses of action taken by the Federal Reserve Board to help alleviate tight money conditions in the country."
                },
                {
                    "question": "A broker acting as agent for a principal has as much authority as:",
                    "answers": [
                        { "text": "other parties believe the agent to possess.", "correct": false },
                        { "text": "the agent chooses to accept.", "correct": false },
                        { "text": "he chooses to accept as limited by the Statute of Limitations.", "correct": false },
                        { "text": "the principal actually or ostensibly confers upon him.", "correct": true }
                    ],
                    "explanation": "An agent has as much authority as his principal actually or ostensibly confers upon him."
                },
                {
                    "question": "What does a general warranty deed contain?",
                    "answers": [
                        { "text": "None of these.", "correct": false },
                        { "text": "Covenants regarding quiet enjoyment", "correct": false },
                        { "text": "Covenants that include provisions of a quitclaim deed", "correct": false },
                        { "text": "Covenants that warrant the new owner’s undisturbed and clear title", "correct": true }
                    ],
                    "explanation": "Covenants that warrant the new owner’s undisturbed and clear title are contained in a general warranty deed."
                },
                {
                    "question": "In Texas, if Heather is an agent for a buyer Harry and she shows him a property that is known to have ghosts living there according to the neighbors, but she does not inform Harry of this information, after Harry purchases the property, Heather would:",
                    "answers": [
                        { "text": "Be considered to have misrepresented Harry", "correct": false },
                        { "text": "Be liable for misrepresentation", "correct": false },
                        { "text": "Be open to being sued by Harry if he finds out about the ghosts", "correct": false },
                        { "text": "Not be liable for the nondisclosure of ghosts", "correct": true }
                    ],
                    "explanation": "In Texas, agents are absolved from any liability regarding nondisclosure of stigmatized properties."
                },
                {
                    "question": "A couple is looking at houses and turns one down because they felt the price of the home was too high. This is based on what principle of real estate?",
                    "answers": [
                        { "text": "Conformity", "correct": false },
                        { "text": "Anticipation", "correct": false },
                        { "text": "All of these", "correct": false },
                        { "text": "Substitution", "correct": true }
                    ],
                    "explanation": "The principle of substitution is the basis of the appraisal process. Explained simply, value is set by the cost of getting an equally desirable substitute."
                },
                {
                    "question": "Constructive eviction may allow for a tenant to vacate the premises before the expiration of a lease term. Which would be an example of this?",
                    "answers": [
                        { "text": "Landlord has shown property to prospective tenant and is negotiating terms", "correct": false },
                        { "text": "Property cannot be used for original purpose due to unnecessary and considerable changes made by landlord", "correct": false },
                        { "text": "Landlord fails to make necessary repairs", "correct": false },
                        { "text": "All of the above", "correct": true }
                    ],
                    "explanation": "All of the above are examples of constructive eviction. a) Landlord has shown property to prospective tenant and is negotiating terms b) Property cannot be used for original purpose due to unnecessary and considerable changes made by landlord c) Landlord fails to make necessary repairs"
                },
                {
                    "question": "\"A\" receives a life estate for the life of \"X.\" \"A\" dies before \"X.\" The estate:",
                    "answers": [
                        { "text": "ceases to exist.", "correct": false },
                        { "text": "reverts to the original grantor.", "correct": false },
                        { "text": "vests in", "correct": false },
                        { "text": "vests in the heirs of A until X dies at which time the estate will revert to the original grantor.", "correct": true }
                    ],
                    "explanation": "The estate vests in the heirs of \"A\" until \"X\" dies at which time the estate will revert to the original grantor."
                },
                {
                    "question": "The original amortization term minus the number of payments that have been applied refers to the:",
                    "answers": [
                        { "text": "Remaining interest", "correct": false },
                        { "text": "Total amortization term", "correct": false },
                        { "text": "Loan amount", "correct": false },
                        { "text": "Remaining term", "correct": true }
                    ],
                    "explanation": "The original amortization term minus the number of payments that have been applied refers to the remaining term."
                },
                {
                    "question": "If Franklin, a real estate agent, intentionally speaks very highly and enthusiastically about a property he is trying to sell to a client in order to secure the deal, this type of behavior would be:",
                    "answers": [
                        { "text": "Steering", "correct": false },
                        { "text": "Illegal", "correct": false },
                        { "text": "Misrepresentation", "correct": false },
                        { "text": "Puffing", "correct": true }
                    ],
                    "explanation": "The term “puffing” can be used to describe “sales talk” that is used to secure a deal. As long as there is no misrepresentation, it is considered a legal practice."
                }
            ],
            "Unit 2": [
                {
                    "question": "A credit arrangement which allows a customer to borrow against a pre-approved line of credit when purchasing goods and services is called:",
                    "answers": [
                        { "text": "A loan", "correct": false },
                        { "text": "A credit card", "correct": false },
                        { "text": "None of these", "correct": false },
                        { "text": "Revolving debt", "correct": true }
                    ],
                    "explanation": "A credit arrangement which allows a customer to borrow against a pre-approved line of credit when purchasing goods and services is called revolving debt."
                },
                {
                    "question": "A valid written lease must include:",
                    "answers": [
                        { "text": "agreement to let, agreement to take delivery, and acceptance.", "correct": false },
                        { "text": "term, consideration, and description of the premises.", "correct": false },
                        { "text": "a landlord and tenant with the legal capacity to enter a binding contract.", "correct": false },
                        { "text": "all of the above", "correct": true }
                    ],
                    "explanation": "Each of the choices describes a necessary element of a valid lease."
                },
                {
                    "question": "How many acres are in the following described area: the W 1/2 of the N 1/2 of section 5?",
                    "answers": [
                        { "text": "110", "correct": false },
                        { "text": "120", "correct": false },
                        { "text": "140", "correct": false },
                        { "text": "160", "correct": true }
                    ],
                    "explanation": "A standard section of land is one square mile, which contains 640 acres. The N 1/2 of section 5 is 320 acres (640 / 2), and the W 1/2 of that is 160 acres (320 / 2)."
                },
                {
                    "question": "In Texas, if a builder of residential homes sells more than _______________ properties a year, they are required to obtain a real estate license or employ a licensed broker.",
                    "answers": [
                        { "text": "3", "correct": false },
                        { "text": "2", "correct": false },
                        { "text": "1", "correct": false },
                        { "text": "4", "correct": true }
                    ],
                    "explanation": "If a builder of residential homes sells more than 4 properties in a single year, they must obtain a real estate license or employ a real estate broker."
                },
                {
                    "question": "Real property includes all of the following except:",
                    "answers": [
                        { "text": "airspace.", "correct": false },
                        { "text": "minerals.", "correct": false },
                        { "text": "water rights.", "correct": false },
                        { "text": "oil.", "correct": true }
                    ],
                    "explanation": "Real property is land, anything permanently attached to the land, anything appurtenant to the land or anything immovable by law. Land includes airspace, surface rights, mineral rights, and water rights."
                },
                {
                    "question": "Brad sold his house to Jerry, who did not record the deed, but moved in. Brad then sold the same property to George, who reviewed the county recorder's records, but did not look at the property. Brad gave George a deed, which was recorded. Which of the following would be true concerning title to the property?",
                    "answers": [
                        { "text": "Jerry and George are co-owners of the property", "correct": false },
                        { "text": "George now owns the property because he recorded his deed and Jerry did not", "correct": false },
                        { "text": "George has recourse against Jerry for failure to record", "correct": false },
                        { "text": "Jerry maintains title", "correct": true }
                    ],
                    "explanation": "Although Jerry did not record the deed, he took possession by moving in. Possession of the property by Jerry gives constructive notice. Since George recorded after Jerry took possession, he had constructive notice of Jerry's rights."
                },
                {
                    "question": "Which of the following is correct concerning an ALTA extended coverage policy of title insurance?",
                    "answers": [
                        { "text": "It protects a lessee who occupies the property after the date shown on the title insurance policy", "correct": false },
                        { "text": "It protects against any encroachment that occurs after the date of issuance of the title policy", "correct": false },
                        { "text": "It protects against any easements created during the term of the title insurance policy", "correct": false },
                        { "text": "It is limited to stated conditions of title as of the date of the issuance of the title policy", "correct": true }
                    ],
                    "explanation": "An ALTA policy applies to owners or lenders not to lessees. A survey of the property is done at the time the policy is issued, but it does not protect against subsequent encroachments. Answer (b) is the only one that is correct."
                },
                {
                    "question": "The final step in the Statutory Dedication process is:",
                    "answers": [
                        { "text": "The acceptance by the proper official", "correct": false },
                        { "text": "The signature of the Real Estate Commissioner", "correct": false },
                        { "text": "None of these", "correct": false },
                        { "text": "The recording of the subdivision map", "correct": true }
                    ],
                    "explanation": "When the subdivision map is approved and recorded, this would be the final step in the Statutory Dedication process."
                },
                {
                    "question": "Consideration can be:",
                    "answers": [
                        { "text": "money.", "correct": false },
                        { "text": "services.", "correct": false },
                        { "text": "covenants.", "correct": false },
                        { "text": "all of the above", "correct": true }
                    ],
                    "explanation": "Covenants are promises and we know that consideration can be money, services, or promises. It can also be love and affection."
                },
                {
                    "question": "There are many agreements that could be placed in promissory notes that would prohibit the borrower from doing certain things. An agreement that would prohibit the borrower from paying off the loan before the maturity date is called a:",
                    "answers": [
                        { "text": "prevention clause.", "correct": false },
                        { "text": "defeasance clause.", "correct": false },
                        { "text": "release clause.", "correct": false },
                        { "text": "lock-in clause.", "correct": true }
                    ],
                    "explanation": "A lock-in clause prohibits borrowers from paying off a loan in advance. It is not allowed on residential units of less than four units."
                }
            ],
            "Unit 3": [
                {
                    "question": "Under the provisions of the Interstate Subdivided Lands Act, can the buyer rescind his offer within specified time limits, if he buys:",
                    "answers": [
                        { "text": "land projects.", "correct": true },
                        { "text": "condominium.", "correct": false },
                        { "text": "stock cooperative project.", "correct": false },
                        { "text": "none of the above", "correct": false }
                    ],
                    "explanation": "The law allows a buyer 14 days after signing a contract to purchase property in a land project to rescind the offer, with a full refund of any money paid."
                },
                {
                    "question": "In Texas, if an unlicensed person is charged with a first-time misdemeanor of performing activities requiring a real estate license, they:",
                    "answers": [
                        { "text": "May be subject to a penalty of imprisonment to exceed 90 days", "correct": false },
                        { "text": "May be subject to a penalty of a fine not to exceed $500", "correct": true },
                        { "text": "May be subject to a penalty of a fine to exceed $500", "correct": false },
                        { "text": "None of these", "correct": false }
                    ],
                    "explanation": "In Texas, any unlicensed person who is charged with a first-time misdemeanor of performing activities requiring a real estate license may be subject to a penalty of a fine not to exceed $500, imprisonment not to exceed 90 days, or both."
                },
                {
                    "question": "A cash payment of $10,001 is given as earnest money to secure a property. What must be filed?",
                    "answers": [
                        { "text": "A procurement contract", "correct": false },
                        { "text": "An expediting loan form", "correct": false },
                        { "text": "An IRS Form 8300", "correct": true },
                        { "text": "A documenting receipt", "correct": false }
                    ],
                    "explanation": "The IRS requires any cash payments over $10,000 be recorded by filing a form 8300."
                },
                {
                    "question": "When a broker obtains a new contract, it is considered what until fully performed?",
                    "answers": [
                        { "text": "Pre-performed", "correct": false },
                        { "text": "Invalid", "correct": false },
                        { "text": "Pre-executed", "correct": false },
                        { "text": "Executory", "correct": true }
                    ],
                    "explanation": "A contract that has not been fully performed is known as executory. Once it is performed, it is called executed."
                },
                {
                    "question": "A wife can will:",
                    "answers": [
                        { "text": "all the community property.", "correct": false },
                        { "text": "1/2 the community property.", "correct": true },
                        { "text": "any community property the husband has not willed.", "correct": false },
                        { "text": "none of the community property.", "correct": false }
                    ],
                    "explanation": "Both husband and wife have the right to will 1/2 the community property."
                },
                {
                    "question": "Individual lots that are created from a larger tract and that are offered for sale or lease best describes a:",
                    "answers": [
                        { "text": "Suburb", "correct": false },
                        { "text": "Housing tract", "correct": false },
                        { "text": "Development", "correct": false },
                        { "text": "Subdivision", "correct": true }
                    ],
                    "explanation": "Individual lots that are created from a larger tract and that are offered for sale or lease best describes a subdivision."
                },
                {
                    "question": "Mr. Noro bought a property using a purchase money trust deed. A few years later he sold the property to Ms. Hassen for all cash. Which of the following would not be disclosed by the public records?",
                    "answers": [
                        { "text": "A grant deed to Mr. Noro", "correct": false },
                        { "text": "The original trust deed that Mr. Noro used in purchasing the property", "correct": false },
                        { "text": "A reconveyance deed to Mr. Noro", "correct": false },
                        { "text": "A reconveyance deed to Ms. Hassen", "correct": true }
                    ],
                    "explanation": "Since Ms. Hassen paid all cash for the property, there would be no need for a reconveyance deed to Ms. Hassen. Therefore, it would not appear on public records."
                },
                {
                    "question": "A licensed agent working under John, a broker, withdraws funds from John’s broker trust account with John’s permission. The agent is licensed but not bonded. This transaction would be:",
                    "answers": [
                        { "text": "Illegal", "correct": true },
                        { "text": "None of these", "correct": false },
                        { "text": "Unethical", "correct": false },
                        { "text": "Legal", "correct": false }
                    ],
                    "explanation": "In order for someone other than the broker to withdraw funds from the broker’s trust account, the person must be bonded."
                },
                {
                    "question": "While the objective in the cost approach generally is to estimate the value of both land and improvements, the land typically is appraised using the:",
                    "answers": [
                        { "text": "income approach.", "correct": false },
                        { "text": "gross rent multiplier approach.", "correct": false },
                        { "text": "option approach.", "correct": false },
                        { "text": "market data approach.", "correct": true }
                    ],
                    "explanation": "Land is appraised by comparing the subject property to recent sales of comparable parcels of land."
                },
                {
                    "question": "A down payment of $1,000 for the purchase of an apartment house valued at $690,000 is a good example of:",
                    "answers": [
                        { "text": "plottage.", "correct": false },
                        { "text": "leverage.", "correct": true },
                        { "text": "highest and best value.", "correct": false },
                        { "text": "none of the above", "correct": false }
                    ],
                    "explanation": "The definition of leverage can be viewed as using a small down payment to purchase as much property as possible."
                }
            ],
            "Unit 4": [
                {
                    "question": "In Texas, an on-site manager who negotiates apartment leases during the normal course of business:",
                    "answers": [
                        { "text": "Must hold a real estate salesperson’s or broker’s license", "correct": false },
                        { "text": "None of these", "correct": false },
                        { "text": "Must have applied for a real estate license", "correct": false },
                        { "text": "Is not required to hold a real estate salesperson’s or broker’s license", "correct": true }
                    ],
                    "explanation": "In Texas, an on-site manager who negotiates apartment leases during the normal course of business is not required to hold a real estate salesperson’s or broker’s license. This exemption only applies to apartments; managers of condominiums or town homes need to be licensed."
                },
                {
                    "question": "Which of these terms refers to the owner of real property selling the property to someone else and is a legal right?",
                    "answers": [
                        { "text": "Salage", "correct": false },
                        { "text": "Release", "correct": false },
                        { "text": "Salable", "correct": false },
                        { "text": "Disposition", "correct": true }
                    ],
                    "explanation": "Disposition (which can also be called alienation), refers to the disposal of something. In real estate it is a right of alienation to do this with real property."
                },
                {
                    "question": "Which of the following falls under the term “real property”?",
                    "answers": [
                        { "text": "Furniture", "correct": false },
                        { "text": "Crops", "correct": false },
                        { "text": "Trees", "correct": true },
                        { "text": "Fixtures", "correct": false }
                    ],
                    "explanation": "Real property is the things that “go with the land”. Clearly trees are not personal property and they must “go with the land”, therefore trees is the correct answer in this case."
                },
                {
                    "question": "Elderly homeowners can sometimes tap the equity in their home without having to make monthly payments by using a:",
                    "answers": [
                        { "text": "conversion option.", "correct": false },
                        { "text": "blanket mortgage.", "correct": false },
                        { "text": "wraparound mortgage.", "correct": false },
                        { "text": "reverse mortgage.", "correct": true }
                    ],
                    "explanation": "With a reverse mortgage, the homeowner receives a lump sum or monthly checks, and no repayment is made until the property is sold or the owner dies."
                },
                {
                    "question": "If there is an easement appurtenant, there must also be:",
                    "answers": [
                        { "text": "A dominant tenement", "correct": true },
                        { "text": "None of these", "correct": false },
                        { "text": "A tenement in gross", "correct": false },
                        { "text": "A specific lien", "correct": false }
                    ],
                    "explanation": "An easement appurtenant can only exist if there is a dominant tenement."
                },
                {
                    "question": "If an agent makes claims to homeowners in a certain geographical location that their property values would decrease if certain ethnic groups were to move into the area, this could be an example of:",
                    "answers": [
                        { "text": "Blockbusting", "correct": true },
                        { "text": "Negotiation", "correct": false },
                        { "text": "Coercion", "correct": false },
                        { "text": "Steering", "correct": false }
                    ],
                    "explanation": "Blockbusting is historically when a mostly white neighborhood is seen as less valuable if mainly African Americans were to move in. This has been a tactic of some real estate agents in the past to try to trick white homeowners into selling their property at a lower price “before it’s too late.” Subsequently this practice has been outlawed."
                }
            ],
            "Unit 5": [
                {
                    "question": "What is the primary role of a real estate agent in a transaction?",
                    "answers": [
                        { "text": "To set the property price", "correct": false },
                        { "text": "To provide legal advice", "correct": false },
                        { "text": "To represent a client in buying or selling property", "correct": true },
                        { "text": "To offer mortgage loans", "correct": false }
                    ],
                    "explanation": "A real estate agent's primary role is to act as an intermediary between buyers and sellers, representing their clients' interests."
                },
                {
                    "question": "Which document is used to transfer ownership of real property from one party to another?",
                    "answers": [
                        { "text": "Lease agreement", "correct": false },
                        { "text": "Promissory note", "correct": false },
                        { "text": "Deed", "correct": true },
                        { "text": "Mortgage", "correct": false }
                    ],
                    "explanation": "A deed is a legal document that transfers ownership of real property from the grantor (seller) to the grantee (buyer)."
                }
            ],
            "Unit 6": [
                {
                    "question": "What is a 'lien' in real estate?",
                    "answers": [
                        { "text": "A type of insurance policy", "correct": false },
                        { "text": "A legal claim against a property to secure a debt", "correct": true },
                        { "text": "A property boundary marker", "correct": false },
                        { "text": "A tax levied on real estate transactions", "correct": false }
                    ],
                    "explanation": "A lien is a legal claim or a right against a property granted by a court or a contract to an individual or entity until a debt is satisfied."
                },
                {
                    "question": "The term 'escheat' refers to:",
                    "answers": [
                        { "text": "The right of eminent domain", "correct": false },
                        { "text": "The process of property reverting to the state when an owner dies without heirs or a will", "correct": true },
                        { "text": "A type of property easement", "correct": false },
                        { "text": "The transfer of property through adverse possession", "correct": false }
                    ],
                    "explanation": "Escheat is the right of a government to take ownership of estate assets or unclaimed property."
                }
            ],
            "Unit 7": [
                {
                    "question": "What is the purpose of a 'title search'?",
                    "answers": [
                        { "text": "To determine the market value of a property", "correct": false },
                        { "text": "To verify the property's legal ownership and identify any encumbrances", "correct": true },
                        { "text": "To assess the structural integrity of a building", "correct": false },
                        { "text": "To negotiate the terms of a mortgage loan", "correct": false }
                    ],
                    "explanation": "A title search is conducted to ensure that the seller has the legal right to sell the property and to uncover any liens, easements, or other issues that could affect the transfer of ownership."
                },
                {
                    "question": "Which of the following is an example of a 'fixture' in real estate?",
                    "answers": [
                        { "text": "A freestanding refrigerator", "correct": false },
                        { "text": "A portable microwave oven", "correct": false },
                        { "text": "Built-in kitchen cabinets", "correct": true },
                        { "text": "A rug that is not attached to the floor", "correct": false }
                    ],
                    "explanation": "A fixture is an item of personal property that has been attached to real property in such a way that it is now considered part of the real property."
                }
            ],
            "Unit 8": [
                {
                    "question": "What is the main difference between a 'mortgage' and a 'deed of trust'?",
                    "answers": [
                        { "text": "There is no difference; the terms are interchangeable", "correct": false },
                        { "text": "A mortgage involves three parties, while a deed of trust involves two", "correct": false },
                        { "text": "A deed of trust involves three parties (borrower, lender, trustee), while a mortgage involves two (borrower, lender)", "correct": true },
                        { "text": "Only mortgages allow for foreclosure in case of default", "correct": false }
                    ],
                    "explanation": "A key distinction lies in the parties involved: a mortgage has a mortgagor (borrower) and a mortgagee (lender), while a deed of trust adds a third party, the trustee, who holds the title until the loan is repaid."
                },
                {
                    "question": "The principle of 'highest and best use' in real estate appraisal refers to:",
                    "answers": [
                        { "text": "The most expensive use of a property", "correct": false },
                        { "text": "The use that generates the most immediate profit", "correct": false },
                        { "text": "The reasonably probable and legal use of vacant land or an improved property that is physically possible, appropriately supported, financially feasible, and that results in the highest value.", "correct": true },
                        { "text": "The historical use of a property", "correct": false }
                    ],
                    "explanation": "Highest and best use considers the use of a property that is most likely to produce the greatest net return to the land and/or building over a given period."
                }
            ],
            "Unit 9": [
                {
                    "question": "What is 'zoning' in urban planning?",
                    "answers": [
                        { "text": "A method of property valuation", "correct": false },
                        { "text": "Government regulations that dictate how real property can and cannot be used in certain areas", "correct": true },
                        { "text": "A type of property insurance", "correct": false },
                        { "text": "The process of land surveying", "correct": false }
                    ],
                    "explanation": "Zoning ordinances are local laws that divide land into different zones (e.g., residential, commercial, industrial) and specify allowed uses within each zone."
                },
                {
                    "question": "Which of the following describes 'eminent domain'?",
                    "answers": [
                        { "text": "The right of a private citizen to claim property through adverse possession", "correct": false },
                        { "text": "The power of the government to take private property for public use, with just compensation", "correct": true },
                        { "text": "The process of transferring property through a will", "correct": false },
                        { "text": "The ability to sell a property quickly in a hot market", "correct": false }
                    ],
                    "explanation": "Eminent domain is the right of a government to take private property for public use, with payment of compensation."
                }
            ],
            "Unit 10": [
                {
                    "question": "What is the purpose of 'earnest money' in a real estate transaction?",
                    "answers": [
                        { "text": "To cover the closing costs", "correct": false },
                        { "text": "To serve as a deposit demonstrating the buyer's serious intent to purchase", "correct": true },
                        { "text": "To pay the real estate agent's commission", "correct": false },
                        { "text": "To pay for property inspections", "correct": false }
                    ],
                    "explanation": "Earnest money is a deposit made to a seller that represents a buyer's good faith to buy a home. It gives the buyer extra time to get financing and conduct a title search, appraisal, and inspections before closing."
                },
                {
                    "question": "Which term refers to the gradual addition of land by natural causes, such as the deposition of soil by a river?",
                    "answers": [
                        { "text": "Erosion", "correct": false },
                        { "text": "Avulsion", "correct": false },
                        { "text": "Accretion", "correct": true },
                        { "text": "Reliction", "correct": false }
                    ],
                    "explanation": "Accretion is the process of growth or increase, typically by the gradual accumulation of additional layers or matter. In real estate, it's the increase of land by the gradual deposition of soil from the water."
                }
            ],
            "Animal": [
                {
                    "question": "Which animal is known as the 'king of the jungle'?",
                    "answers": [
                        { "text": "Tiger", "correct": false },
                        { "text": "Lion", "correct": true },
                        { "text": "Elephant", "correct": false },
                        { "text": "Bear", "correct": false }
                    ],
                    "explanation": "Lions are widely referred to as the 'king of the jungle' due to their majestic appearance and position as apex predators."
                },
                {
                    "question": "What is the fastest land animal?",
                    "answers": [
                        { "text": "Lion", "correct": false },
                        { "text": "Gazelle", "correct": false },
                        { "text": "Cheetah", "correct": true },
                        { "text": "Horse", "correct": false }
                    ],
                    "explanation": "The cheetah can run at speeds of up to 70 miles per hour, making it the fastest land animal."
                }
            ],
            "Space Quiz": [
                {
                    "question": "What is the largest planet in our solar system?",
                    "answers": [
                        { "text": "Mars", "correct": false },
                        { "text": "Jupiter", "correct": true },
                        { "text": "Earth", "correct": false },
                        { "text": "Saturn", "correct": false }
                    ],
                    "explanation": "Jupiter is the largest planet in our solar system by a considerable margin."
                },
                {
                    "question": "Which galaxy is our solar system a part of?",
                    "answers": [
                        { "text": "Andromeda Galaxy", "correct": false },
                        { "text": "Triangulum Galaxy", "correct": false },
                        { "text": "Whirlpool Galaxy", "correct": false },
                        { "text": "Milky Way Galaxy", "correct": true }
                    ],
                    "explanation": "Our solar system resides within the Milky Way Galaxy."
                }
            ]
        };

        const quizButtons = document.querySelectorAll('.quiz-btn');
        const quizTitle = document.getElementById('quiz-title');
        const quizContent = document.getElementById('quiz-content');
        const progressContainer = document.getElementById('progress-container');
        const correctCountSpan = document.getElementById('correct-count');
        const incorrectCountSpan = document.getElementById('incorrect-count');
        const correctBar = document.getElementById('correct-bar');
        const incorrectBar = document.getElementById('incorrect-bar');
        const searchInput = document.getElementById('search-input');
        const quizNavigation = document.getElementById('quiz-navigation');
        const nextQuestionBtn = document.getElementById('next-question-btn');

        let currentQuizQuestions = [];
        let currentQuestionIndex = 0;
        let correctAnswers = 0;
        let incorrectAnswers = 0;
        let answeredQuestions = 0;
        let activeQuizName = ''; // To store the name of the currently active quiz

        // Function to start a quiz (display the first question)
        function startQuiz(quizName) {
            activeQuizName = quizName;
            currentQuizQuestions = quizData[quizName];
            currentQuestionIndex = 0;
            correctAnswers = 0;
            incorrectAnswers = 0;
            answeredQuestions = 0;

            quizTitle.textContent = quizName;
            progressContainer.classList.remove('hidden');
            quizNavigation.classList.remove('hidden');
            nextQuestionBtn.textContent = 'Next Question'; // Reset button text
            nextQuestionBtn.disabled = true; // Disable next until answer is selected

            updateProgressBars();
            renderCurrentQuestion();
        }

        // Function to render the current question
        function renderCurrentQuestion() {
            quizContent.innerHTML = ''; // Clear previous question
            
            if (currentQuestionIndex >= currentQuizQuestions.length) {
                displayQuizResults();
                return;
            }

            const q = currentQuizQuestions[currentQuestionIndex];

            const questionElement = document.createElement('div');
            questionElement.classList.add('mb-8', 'p-6', 'bg-gray-50', 'dark:bg-gray-700', 'rounded-lg', 'shadow');
            questionElement.innerHTML = `
                <p class="text-xl font-semibold mb-4">${currentQuestionIndex + 1}. ${q.question}</p>
                <div class="answers-container space-y-3">
                    ${q.answers.map(answer => `
                        <button class="answer-btn w-full text-left p-3 rounded-md bg-gray-200 dark:bg-gray-600 hover:bg-gray-300 dark:hover:bg-gray-500 transition duration-200"
                            data-correct="${answer.correct}">${answer.text}</button>
                    `).join('')}
                </div>
                <div class="explanation mt-4 p-3 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded-md hidden">
                    <strong>Explanation:</strong> ${q.explanation}
                </div>
            `;
            quizContent.appendChild(questionElement);

            addAnswerButtonListeners(); // Attach listeners for the newly rendered question
        }

        // Function to handle answer clicks
        function addAnswerButtonListeners() {
            const currentQuestionAnswers = quizContent.querySelector('.answers-container');
            if (!currentQuestionAnswers) return; // Exit if no answers container found

            currentQuestionAnswers.querySelectorAll('.answer-btn').forEach(button => {
                button.addEventListener('click', (e) => {
                    const selectedButton = e.target;
                    const isCorrect = selectedButton.dataset.correct === 'true';
                    const answersContainer = selectedButton.closest('.answers-container');
                    const explanationElement = answersContainer.nextElementSibling;

                    // Disable all buttons for this question after an answer is selected
                    answersContainer.querySelectorAll('.answer-btn').forEach(btn => {
                        btn.disabled = true;
                        btn.classList.remove('hover:bg-gray-300', 'dark:hover:bg-gray-500');
                        if (btn.dataset.correct === 'true') {
                            btn.classList.add('bg-green-200', 'dark:bg-green-700', 'text-green-900', 'dark:text-green-100');
                        } else {
                            btn.classList.add('bg-red-200', 'dark:bg-red-700', 'text-red-900', 'dark:text-red-100');
                        }
                    });

                    if (isCorrect) {
                        correctAnswers++;
                    } else {
                        incorrectAnswers++;
                    }
                    answeredQuestions++;

                    explanationElement.classList.remove('hidden'); // Show explanation
                    nextQuestionBtn.disabled = false; // Enable next button after answer
                    if (currentQuestionIndex === currentQuizQuestions.length - 1) {
                        nextQuestionBtn.textContent = 'Show Results';
                    }
                    updateProgressBars();
                });
            });
        }

        // Function to update progress bars
        function updateProgressBars() {
            if (currentQuizQuestions.length === 0) {
                progressContainer.classList.add('hidden');
                return;
            }

            progressContainer.classList.remove('hidden');
            correctCountSpan.textContent = `Correct: ${correctAnswers}`;
            incorrectCountSpan.textContent = `Incorrect: ${incorrectAnswers}`;

            const totalQuestions = currentQuizQuestions.length;
            const correctPercentage = (correctAnswers / totalQuestions) * 100;
            const incorrectPercentage = (incorrectAnswers / totalQuestions) * 100;

            correctBar.style.width = `${correctPercentage}%`;
            incorrectBar.style.width = `${incorrectPercentage}%`;

            // Adjust positioning for both bars if one or both are present
            if (correctPercentage > 0 && incorrectPercentage > 0) {
                incorrectBar.style.left = `${correctPercentage}%`;
            } else {
                incorrectBar.style.left = '0%'; // Reset if only incorrect
            }
        }

        // Function to display final quiz results
        function displayQuizResults() {
            quizTitle.textContent = `Quiz Complete: ${activeQuizName}`;
            quizContent.innerHTML = `
                <p class="text-center text-2xl font-bold mb-4">You have finished the quiz!</p>
                <p class="text-center text-xl mb-2">Total Questions: ${currentQuizQuestions.length}</p>
                <p class="text-center text-xl text-green-600 mb-2">Correct Answers: ${correctAnswers}</p>
                <p class="text-center text-xl text-red-600 mb-4">Incorrect Answers: ${incorrectAnswers}</p>
                <div class="flex justify-center mt-6">
                    <button id="restart-quiz-btn" class="px-6 py-3 bg-indigo-600 text-white font-bold rounded-lg shadow-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-indigo-500 focus:ring-offset-2 transition duration-200">
                        Restart Quiz
                    </button>
                </div>
            `;
            quizNavigation.classList.add('hidden'); // Hide navigation buttons
            progressContainer.classList.remove('hidden'); // Keep progress visible for results

            document.getElementById('restart-quiz-btn').addEventListener('click', () => {
                startQuiz(activeQuizName); // Restart the current quiz
            });
        }

        // Event listeners for quiz selection buttons
        quizButtons.forEach(button => {
            button.addEventListener('click', () => {
                const quizName = button.dataset.quiz;
                searchInput.value = ''; // Clear search input
                startQuiz(quizName);
            });
        });

        // Event listener for Next Question button
        nextQuestionBtn.addEventListener('click', () => {
            currentQuestionIndex++;
            renderCurrentQuestion();
            nextQuestionBtn.disabled = true; // Disable until next answer is selected
        });

        // Search functionality (remains showing all results at once)
        searchInput.addEventListener('input', () => {
            const searchTerm = searchInput.value.toLowerCase();
            const allQuestions = [];

            // Gather all questions from all quizzes
            for (const quizName in quizData) {
                quizData[quizName].forEach(q => {
                    allQuestions.push({ ...q, quizName: quizName }); // Add quizName for context
                });
            }

            if (searchTerm === '') {
                quizTitle.textContent = "Select a Quiz";
                quizContent.innerHTML = `<p class="text-center text-gray-600 dark:text-gray-400">
                    Click on a quiz from the left-hand navigation to get started!
                </p>`;
                progressContainer.classList.add('hidden');
                quizNavigation.classList.add('hidden'); // Hide navigation buttons
                return;
            }

            const filteredQuestions = allQuestions.filter(question => {
                const questionText = question.question.toLowerCase();
                const answersText = question.answers.map(a => a.text.toLowerCase()).join(' ');
                const explanationText = question.explanation ? question.explanation.toLowerCase() : '';

                return questionText.includes(searchTerm) ||
                       answersText.includes(searchTerm) ||
                       explanationText.includes(searchTerm);
            });

            displaySearchResults(filteredQuestions, searchTerm);
        });

        function displaySearchResults(results, searchTerm) {
            quizTitle.textContent = `Search Results for "${searchTerm}"`;
            quizContent.innerHTML = '';
            progressContainer.classList.add('hidden'); // Hide progress bars for search results
            quizNavigation.classList.add('hidden'); // Hide navigation buttons for search results

            if (results.length === 0) {
                quizContent.innerHTML = `<p class="text-center text-gray-600 dark:text-gray-400">No questions or answers found matching "${searchTerm}".</p>`;
                return;
            }

            results.forEach((q, index) => {
                const questionElement = document.createElement('div');
                questionElement.classList.add('mb-8', 'p-6', 'bg-gray-50', 'dark:bg-gray-700', 'rounded-lg', 'shadow');

                // Highlight search term in question
                let highlightedQuestion = q.question.replace(new RegExp(searchTerm, 'gi'), match => `<span class="highlight">${match}</span>`);

                // Highlight search term in answers and explanation
                let answersHtml = q.answers.map(answer => {
                    let highlightedAnswer = answer.text.replace(new RegExp(searchTerm, 'gi'), match => `<span class="highlight">${match}</span>`);
                    return `
                        <button class="answer-btn w-full text-left p-3 rounded-md bg-gray-200 dark:bg-gray-600 transition duration-200"
                            data-correct="${answer.correct}">${highlightedAnswer}</button>
                    `;
                }).join('');

                let highlightedExplanation = q.explanation ? q.explanation.replace(new RegExp(searchTerm, 'gi'), match => `<span class="highlight">${match}</span>`) : '';

                questionElement.innerHTML = `
                    <p class="text-sm text-gray-500 dark:text-gray-400 mb-2">From: ${q.quizName}</p>
                    <p class="text-xl font-semibold mb-4">${index + 1}. ${highlightedQuestion}</p>
                    <div class="answers-container space-y-3">
                        ${answersHtml}
                    </div>
                    <div class="explanation mt-4 p-3 bg-blue-100 dark:bg-blue-800 text-blue-800 dark:text-blue-200 rounded-md">
                        <strong>Explanation:</strong> ${highlightedExplanation}
                    </div>
                `;
                quizContent.appendChild(questionElement);
            });
        }
    </script>
</body>
</html>
